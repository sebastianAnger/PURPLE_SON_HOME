<?xml version="1.0" encoding="UTF-8"?>
<krpano version="1.19">

    
  <!-- Spot Style - recorrido -->


  <style name="Iconrecorrido"
         url="%FIRSTXML%/spots/_crit_user_defaultpoint0.png"
         visible="false"
         edge="center"
         onhover="onhoverIconrecorrido"
         onout="onoutIconrecorrido"


         />
  <action name="onhoverIconrecorrido">
    showtooltip('hotspot');
  </action>
  <action name="onoutIconrecorrido">
    hideTooltip();



  </action>



    
  <!-- Spot Style - camara -->


  <style name="Iconcamara"
         url="%FIRSTXML%/spots/foto_user_defaultpoint1.png"
         visible="false"
         edge="center"
         onhover="onhoverIconcamara"
         onout="onoutIconcamara"

         height="30"
         width="35"
         />
  <action name="onhoverIconcamara">
    showtooltip('hotspot');
  </action>
  <action name="onoutIconcamara">
    hideTooltip();



  </action>



    
  <!-- Spot Style - video -->


  <style name="Iconvideo"
         url="%FIRSTXML%/spots/video_user_defaultpoint2.png"
         visible="false"
         edge="center"
         onhover="onhoverIconvideo"
         onout="onoutIconvideo"

         height="30"
         width="30"
         />
  <action name="onhoverIconvideo">
    showtooltip('hotspot');
  </action>
  <action name="onoutIconvideo">
    hideTooltip();



  </action>



    
  <!-- Spot Style - volver -->


  <style name="Iconvolver"
         url="%FIRSTXML%/spots/_crit_user_defaultpoint3.png"
         visible="false"
         edge="center"
         onhover="onhoverIconvolver"
         onout="onoutIconvolver"


         />
  <action name="onhoverIconvolver">
    showtooltip('hotspot');
  </action>
  <action name="onoutIconvolver">
    hideTooltip();



  </action>



<!-- ********** -->
<!-- Call actions on tour events -->
<!-- id : callActionsOnTourEvents -->
<!-- ********** -->
    <events name="callActionsOnTourEventsevents" keep="true"
            onpanostart="callActionsOnTourEventsonpanostart()"

     />



    <action name="callActionsOnTourEventsonpanostart">
hidebutton42();
hidebutton41();
hidebutton40();
hidebutton39();
hidebutton38();
hidebutton37();
hidebutton36();
hidebutton35();
hidebutton34();
hidebutton33();
hidebutton32();
hidebutton31();
hidebutton30();
hidebutton29();
hidebutton28();
hidebutton27();
hidebutton26();
hidebutton25();
hidebutton24();
hidebutton23();
hidebutton22();
hidebutton21();
hidebutton20();
hidebutton19();
hidebutton18();
hidebutton17();
hidebutton16();
hidebutton15();
hidebutton14();
hidebutton13();
hidebutton12();
hidebutton11();
hidebutton10();
hidebutton9();
hidebutton8();



    </action>






<!-- ********** -->
<!-- Barra de Control de Vídeo -->
<!-- id : videoControlBar -->
<!-- ********** -->






	<events name="videoControlBar_events"
		onenterfullscreen.fullscreensupport="videoControlBar_fs_button_update(true);"
		onexitfullscreen.fullscreensupport="videoControlBar_fs_button_update(false);"

		onTourStart="set(layer[videoControlBar_footer].canstart, true);if(layer[videoControlBar_footer].isready,videoControlBar_show(););"
		videointerfaceready="videoControlBar_init_menu();set(layer[videoControlBar_footer].isready, true);if(layer[videoControlBar_footer].canstart,videoControlBar_show(););"
		onremovepano="videoControlBar_hide();"
		onpausevideointerface="videoControlBar_update_pausestate();"
		onplayvideointerface="videoControlBar_update_pausestate();"
		hidetourcontrols="videoControlBar_hide();"
		showtourcontrols="videoControlBar_show();"
		changetourlanguage="videoControlBar_update_language();"
		keep="true"
		/>


	<action name="videoControlBar_init_menu">
		ifnot(device.fullscreensupport,
			
			set(videoControlBar_fullscreenoff, true);
		);
		set(videoControlBar_menuposx, 2);
		set(videoControlBar_menuposy, 40);
	</action>

	<action name="videoControlBar_update_language">

	</action>


	<action name="videoControlBar_show">
		if(scene[get(xml.scene)].video,
			set(videointerface_controlbar_update, 'videoControlBar_apply_timer');
			videoControlBar_show_seekbar();
			videoControlBar_show_footer();
		);
	</action>
	<action name="videoControlBar_hide">
		videoControlBar_hide_seekbar();
		videoControlBar_hide_footer();
		
		
	</action>



	<layer name="videoControlBar_footer"
		type="container"
		bgcolor="0x000000"
		bgalpha="0.7000076295109483"
		align="bottomleft"
		x="0"
		y="0"
		zorder="2"
		enabled="true"
		capture="false"
		visible="false"
		height="30"
		width="100%"
		keep="true"
		>


		<layer name="videoControlBar_pp_button"
			style="videoControlBar_baseimage|videoControlBar_over" crop="0|0|30|30"
			align="bottomleft" x="0" y="0" zorder="1" width="30" height="30"
			onclick="videoControlBar_togglepause();"
			tooltip="videoControlBarplay_tip"
			/>

		<layer name="videoControlBar_snd_button"
			style="videoControlBar_baseimage|videoControlBar_over" crop="210|0|30|30"
			align="bottomleft" x="30" y="0" zorder="1" width="30" height="30"
			onclick="videoControlBar_togglesound();"
			tooltip="videoControlBarsound_mute_tip"
			/>


		<layer name="videoControlBar_timer"
			style="videoControlBar_timertxt_base" 
			x="65" y="0" zorder="1"
			html=""
			onautosized="videoControlBar_changetotaltime_pos();"
			/>

		<layer name="videoControlBar_timer_total"
			style="videoControlBar_timertxt_base" 
			x="65" y="0" zorder="1"
			baseposx="65"
			html=""
			/>


		<layer name="videoControlBar_fs_button" devices="fullscreensupport"
			style="videoControlBar_baseimage|videoControlBar_over" crop="60|0|30|30"
			align="bottomright" x="0" y="0" zorder="1" width="30" height="30"
			fs_state="false"
			onclick="if(fs_state == false,enterFullscreen();
,exitFullscreen();
);"
			tooltip="videoControlBarfullscreen_open_tip"
			/>



	</layer>
	<action name="videoControlBar_hide_footer">
		set(layer[videoControlBar_footer].visible, false);
	</action>
	<action name="videoControlBar_show_footer">
		set(layer[videoControlBar_footer].visible, true);
	</action>


	<layer name="videoControlBar_btntooltip"
		style="videoControlBar_tooltiptxt_base" 
		zorder="3"
		html=""
		edge="center"
		visible="false"
		keep="true"
		xoffset="0"
		yoffset="0"
		/>
	<action name="videoControlBar_btntooltip_show">
		if(tooltip,
			showTooltip('plugin', videoControlBar_btntooltip, bottom);
		);
	</action>
	<action name="videoControlBar_btntooltip_hide">
		hideTooltip();
	</action>


	<layer name="videoControlBar_seekbar"
		type="container"
		bgcolor="0x000000"
		bgalpha="0.7000076295109483"
		align="bottomleft"
		x="0"
		y="30"
		zorder="3"
		enabled="true"
		capture="true"
		bgcapture="true"
		visible="true"
		height="10"
		width="100%"
		ondown="if(plugin[get(videointerface_video)].isvideoready, asyncloop(pressed, videoControlBar_seekbar_seeking() ); );"
		onup="if(plugin[get(videointerface_video)].isvideoready, plugin[get(videointerface_video)].seek(get(seekpos_percent_text)); );"

		onhover="videoControlBar_timetooltip_show();"
		onout="videoControlBar_timetooltip_hide();"

		keep="true"
		>


		<layer name="videoControlBar_timetooltip"
			style="videoControlBar_tooltiptxt_base" 
			x="0" y="18" zorder="2"
			html=""
			tooltip=""
			edge="center"
			visible="false"
			/>

		<layer name="videoControlBar_loader"
			type="container"
			bgcolor="0xffaa00"
			bgalpha="0.50000762951094835"
			align="bottomleft"
			x="0"
			y="0"
			zorder="1"
			enabled="false"
			capture="false"
			visible="true"
			height="10"
			width="0%"
			/>
		<layer name="videoControlBar_time"
			type="container"
			bgcolor="0xffa305"
			bgalpha="1"
			align="bottomleft"
			x="0"
			y="0"
			zorder="2"
			enabled="false"
			capture="false"
			visible="true"
			height="10"
			width="0%"
			/>
	</layer>
	<action name="videoControlBar_hide_seekbar">
		<!-- set(layer[videoControlBar_seekbar].y, 0); -->
		set(layer[videoControlBar_seekbar].visible, false);
	</action>
	<action name="videoControlBar_show_seekbar">
		<!-- set(layer[videoControlBar_seekbar].y, 30); -->
		set(layer[videoControlBar_seekbar].visible, true);
	</action>


	<action name="videoControlBar_seekbar_seeking">
		screentolayer(videoControlBar_seekbar, mouse.stagex, mouse.stagey, lx, ly);
		div(seekpos, lx, layer[videoControlBar_seekbar].pixelwidth);
		mul(seekpos_percent, seekpos, 100);
		clamp(seekpos_percent, 0, 100);
		txtadd(seekpos_percent_text, get(seekpos_percent), '%');
	</action>

	<action name="videoControlBar_timetooltip_show">
		screentolayer(videoControlBar_seekbar, mouse.stagex, mouse.stagey, lx, ly);
		div(tooltippos, lx, layer[videoControlBar_seekbar].pixelwidth);
		mul(tooltippos_percent, tooltippos, 100);
		clamp(tooltippos_percent, 0, 100);

		copy(vpc, plugin[get(videointerface_video)]);
		if(vpc AND vpc.loaded AND vpc.isvideoready AND vpc.isseeking == false,
			copy(tt, vpc.totaltime);

			mul(ttime, tooltippos_percent, tt);
			div(ttime, 100);

			videoControlBar_format_sec_to_hhmmss(ttime, layer[videoControlBar_timetooltip].html, false);
			
			set(layer[videoControlBar_timetooltip].x, get(lx));
			set(layer[videoControlBar_timetooltip].visible, true);
		);
		delete(vpc);
	</action>
	<action name="videoControlBar_timetooltip_hide">
		set(layer[videoControlBar_timetooltip].visible, false);
	</action>



	<action name="videoControlBar_fs_button_update" devices="fullscreensupport">
		if (%1,
			set(layer[videoControlBar_fs_button].fs_state, true);
			set(layer[videoControlBar_fs_button].crop, 90|0|30|30);
			set(layer[videoControlBar_fs_button].tooltip,'videoControlBarfullscreen_close_tip');
		,
			set(layer[videoControlBar_fs_button].fs_state, false);
			set(layer[videoControlBar_fs_button].crop, 60|0|30|30);
			set(layer[videoControlBar_fs_button].tooltip,'videoControlBarfullscreen_open_tip');
		);
	</action>


	<action name="videoControlBar_createmenu">
		set(name_w, 'videoControlBar_%1_window');
		set(name_m, 'videoControlBar_%1_menu');
		addlayer(get(name_w));
		addlayer(get(name_m));
		copy(layer_w, layer[get(name_w)]);
		copy(layer_m, layer[get(name_m)]);

		set(layer_w.parent, 'videoControlBar_footer');
		set(layer_w.type, container);
		set(layer_w.maskchildren, true);
		set(layer_w.align, %2);
		set(layer_w.width, %3);
		set(layer_w.height, 0);
		set(layer_w.x, %4);
		set(layer_w.y, %5);
		set(layer_w.bgcolor, 0x000000);
		set(layer_w.bgalpha, 0.7000076295109483);
		set(layer_w.visible, false);

		set(layer_m.state, 'closed');
		set(layer_m.parent, get(name_w));
		set(layer_m.type, container);
		set(layer_m.maskchildren, true);
		set(layer_m.align, lefttop);
		sub(layer_m.width, %3, 12);
		set(layer_m.height, 6);
		set(layer_m.x, 6);
		set(layer_m.y, 6);
	</action>


	<action name="videoControlBar_addmenuitem">
		set(name_w, 'videoControlBar_%1_window');
		set(name_m, 'videoControlBar_%1_menu');
		set(name_i, 'videoControlBar_%1_menuitem_%2');
		addlayer(get(name_i));
		copy(layer_w, layer[get(name_w)]);
		copy(layer_m, layer[get(name_m)]);
		copy(layer_i, layer[get(name_i)]);

		set(layer_i.parent, get(name_m));
		sub(layer_i.y, layer_m.height, 6);

		set(caption, %3);
		set(method, %4);

		if(caption,
			set(layer_i.html, %3);
			layer_i.loadstyle(videoControlBar_menuitem_base|videoControlBar_menuitem_normal);
			add(layer_m.height, 26);
			add(layer_w.height, layer_m.height, 6);
		,
			add(layer_i.y, 6);
			set(layer_i.width, 100%);
			set(layer_i.height, 1);
			set(layer_i.type, container);
			set(layer_i.bgalpha, 1.0);
			set(layer_i.bgcolor, 0xFFFFFF);
			add(layer_m.height, 13);
			add(layer_w.height, layer_m.height, 6);
		);
		if(method,
			set(layer_i.onclick, %4);
		);
		delete(caption, method, name_w, name_m, name_i, layer_i);
	</action>


	<action name="videoControlBar_updatemenuitem">
		set(name_i, 'videoControlBar_%1_menuitem_%2');
		addlayer(get(name_i));
		copy(layer_i, layer[get(name_i)]);

		set(caption, %3);

		if(caption,
			set(layer_i.html, %3);
			<!--
			layer_i.loadstyle(videoControlBar_menuitem_base|videoControlBar_menuitem_normal);
			-->
		);
		delete(caption, name_i, layer_i);
	</action>


	<action name="videoControlBar_selectmenuitem">
		set(name_i, 'videoControlBar_%1_menuitem_%2');
		copy(layer_i, layer[get(name_i)]);
		if(layer_i,
			if(%3 !== false,
				layer_i.loadstyle(videoControlBar_menuitem_selected);
			,
				layer_i.loadstyle(videoControlBar_menuitem_normal);
			);
		);
		delete(name_i);
	</action>


	<action name="videoControlBar_deselectmenuitem">
		videoControlBar_selectmenuitem(%1, %2, false);
	</action>




	<action name="videoControlBar_showmenu">
		set(layer[videoControlBar_%1_menu].state, 'opened');
		set(layer[videoControlBar_%1_window].visible, true);
		
		
	</action>


	<action name="videoControlBar_hidemenu">
		
		
		set(layer[videoControlBar_%1_menu].state, 'closed');
		set(layer[videoControlBar_%1_window].visible, false);
	</action>


	<style name="videoControlBar_baseimage" url="%FIRSTXML%/graphics/videocontrolbar/videointerface_skin_kolor.png" />


	<style name="videoControlBar_timertxt_base" type="text" align="bottomleft" vcenter="true" 
		height="30" padding="0" bg="false" capture="false" enabled="false" bgborder="0" 
		css="text-align:left;color:#ffffff;font-family:Arial;font-size:16px;" />

	<style name="videoControlBar_tooltiptxt_base" type="text" align="bottomleft" vcenter="true" 
		height="14" padding="0 2" roundedge="2" 
		 bg="true" bgcolor="0xeeeeee" bgalpha="1"
		 bgborder="0"
		
		capture="false" enabled="false" 
		css="text-align:left;color:#000000;font-family:Arial;font-weight:bold;font-size:11px;" />




	<style name="videoControlBar_menuitem_base" type="text" align="lefttop" x="0" vcenter="true" 
		width="138" height="26" padding="0 3" bg="false" bgcolor="0xffbb00" bgalpha="1.0" bgborder="0" 
		onover="set(bg,true);" onout="set(bg,false);" ondown.touch="onover();" onup.touch="onout();" />
	<style name="videoControlBar_menuitem_normal" txtshadow="" enabled="true" alpha="1.0" 
		css="text-align:left; color:#ffffff;font-family:Arial;font-size:16px;" />
	<style name="videoControlBar_menuitem_selected" txtshadow="0.01 0.01 4.0 0x000000 1.0" enabled="true" alpha="1.0" 
		css="text-align:left; color:#ffbb00;font-family:Arial;font-size:16px;" />



	<action name="videoControlBar_changetotaltime_pos">
		set(layer[videoControlBar_timer_total].x, get(layer[videoControlBar_timer].width));
		add(layer[videoControlBar_timer_total].x, get(layer[videoControlBar_timer_total].baseposx));
	</action>



	<style name="videoControlBar_over"
		ondown="videoControlBar_buttonover(get(name));"
		onhover="videoControlBar_btntooltip_show();"
		onover="videoControlBar_buttonover(get(name));"
		onout="videoControlBar_buttonover(null);videoControlBar_btntooltip_hide();"
		/>
	<action name="videoControlBar_buttonover">
		set(skin_newover_bt, %1);
		set(skin_newover_part2, '');

		indexoftxt(skin_overpos1, get(crop), '|');
		subtxt(skin_over_part1, get(crop), 0, get(skin_overpos1));
		inc(skin_overpos1);
		subtxt(skin_over1, get(crop), get(skin_overpos1), 8);
		indexoftxt(skin_overpos2, get(skin_over1), '|');
		subtxt(skin_newover_part2, get(skin_over1), 0, 2);
		txtreplace(skin_newover_part2, '|', '');
		inc(skin_overpos2);
		subtxt(skin_over2, get(skin_over1), get(skin_overpos2), 8);

		if(%1 != null,
			txtadd(skin_newover, get(skin_over_part1), '|30|', get(skin_over2));
		,
			txtadd(skin_newover, get(skin_over_part1), '|0|', get(skin_over2));
		);
		set(crop, get(skin_newover));
		delete(skin_newover, skin_over_part1, skin_over2, skin_over1, skin_overpos2, skin_overpos1);
	</action>


	<action name="videoControlBar_format_sec_to_hhmmss">
		copy(t,%1);
		div(hh,get(t),3600);
		Math.floor(hh);
		roundval(hh);
		div(mm,t,60);
		mod(mm,60);
		Math.floor(mm);
		roundval(mm);
		copy(ss,t);
		mod(ss,60);
		Math.floor(ss);
		roundval(ss);
		if(hh GT 0, if(mm LT 10, txtadd(mm, '0', get(mm)); ); );
		if(ss LT 10, txtadd(ss, '0', get(ss)); );
		txtadd(ft, get(mm),':',get(ss));
		if(hh GT 0, txtadd(ft,get(hh),':',get(ft)); );
		if(%3 == true, txtadd(ft,'&#x00A0;/&#x00A0;',get(ft)); );
		copy(%2,ft);
	</action>


<action name="videoControlBar_apply_timer">
	videoControlBar_format_sec_to_hhmmss(%1, layer[videoControlBar_timer].html, false);
	videoControlBar_format_sec_to_hhmmss(%2, layer[videoControlBar_timer_total].html, true);

	copy(layer[videoControlBar_loader].width, %3);
	copy(layer[videoControlBar_time].width, %4);
</action>



	<action name="videoControlBar_togglepause">
		
		videointerface_togglepause();
	</action>


	<action name="videoControlBar_update_pausestate">
		if(plugin[get(videointerface_video)].ispaused,
			set(layer[videoControlBar_pp_button].tooltip, 'videoControlBarplay_tip');
			if(skin_newover_bt == 'videoControlBar_pp_button',
				txtadd(newcrop, '0|',get(skin_newover_part2),'|30|30');
				set(layer[videoControlBar_pp_button].crop, get(newcrop));
			,
				set(layer[videoControlBar_pp_button].crop, 0|0|30|30);
			);
		,
			set(layer[videoControlBar_pp_button].tooltip, 'videoControlBarpause_tip');
			if(skin_newover_bt == 'videoControlBar_pp_button',
				txtadd(newcrop, '30|',get(skin_newover_part2),'|30|30');
				set(layer[videoControlBar_pp_button].crop, get(newcrop));
			,
				set(layer[videoControlBar_pp_button].crop, 30|0|30|30);
			);
			if(layer[videoControlBar_splashscreen_image].visible,
				tween(layer[videoControlBar_splashscreen_image].alpha, 0.0, 0.25, default, 
					set(layer[videoControlBar_splashscreen_image].visible,false);
				);
			);
		);
		layer[videoControlBar_pp_button].onout();
		layer[videoControlBar_pp_button].onover();
	</action>


	<action name="videoControlBar_togglesound">

		videoControlBar_update_soundstate();
	</action>


	<action name="videoControlBar_update_soundstate">
		set(newcrop, '');
		set(snd_iconpos, 210);

		if(plugin[get(videointerface_video)].volume GT 0,
			if(plugin[get(videointerface_video)].volume LT 0.4,
				set(snd_iconpos, 180);
				add(plugin[get(videointerface_video)].volume, 0.33);
				set(layer[videoControlBar_snd_button].tooltip, 'videoControlBarsound_high_tip');
			,
				if(plugin[get(videointerface_video)].volume LT 0.7,
					add(plugin[get(videointerface_video)].volume, 0.33);
					set(layer[videoControlBar_snd_button].tooltip, 'videoControlBarsound_mute_tip');
				,
					set(snd_iconpos, 120);
					set(plugin[get(videointerface_video)].volume, 0);
					set(layer[videoControlBar_snd_button].tooltip, 'videoControlBarsound_low_tip');
				);
			);

			if(skin_newover_bt == 'videoControlBar_snd_button',
				txtadd(newcrop, get(snd_iconpos),'|',get(skin_newover_part2),'|30|30');
				set(layer[videoControlBar_snd_button].crop, get(newcrop));
			,
				txtadd(newcrop, get(snd_iconpos),'|0|30|30');
				set(layer[videoControlBar_snd_button].crop, get(newcrop));
			);

		,
			if(skin_newover_bt == 'videoControlBar_snd_button',
				txtadd(newcrop, '150|',get(skin_newover_part2),'|30|30');
				set(layer[videoControlBar_snd_button].crop, get(newcrop));
			,
				set(layer[videoControlBar_snd_button].crop, 150|0|30|30);
			);
			set(plugin[get(videointerface_video)].volume, 0.33);
			set(layer[videoControlBar_snd_button].tooltip, 'videoControlBarsound_medium_tip');
		);
		layer[videoControlBar_snd_button].onout();
		layer[videoControlBar_snd_button].onover();
		delete(newcrop, snd_iconpos);
	</action>

<!-- ********** -->
<!-- Cabecera -->
<!-- id : header -->
<!-- ********** -->
<!--

  <layer name="header"
         keep="true"
         url="%FIRSTXML%/graphics/header/nav.jpg"
         align="top"
         x="0"
         y="0"
         zorder="4"
         enabled="false"
         capture="true"
         visible="false"
         width="100%"
         accuracy="1"
         />

  <events name="headerevents"
    onTourStart="showheader();"
    hidetourcontrols="hideheader();"
    showtourcontrols="showheader();"
    keep="true" />
  -->
  <action name="hideheader">
    set(layer[header].visible, false);
  </action>
  <action name="showheader">
    set(layer[header].visible, true);
  </action>

<!-- ********** -->
<!-- video -->
<!-- id : button -->
<!-- ********** -->

  <layer name="button"
         keep="true"
         url="%FIRSTXML%/graphics/button/_video.jpg"
         align="topleft"
         x="1370"
         y="0"
         zorder="5"
         visible="false"
         onclick="buttonOnClick"
         />



  <action name="buttonOnClick">
displayVideo(%FIRSTXML%/graphics/button/video_crit.mp4
             ,center
             ,0
             ,0
             ,900
             ,550

             ,false
             ,false
             ,''
             ,false
             ,true
             ,false,000000,0.80000000000000004
             );


  </action>

  <events name="buttonevents"
    onTourStart="showbutton();"
    hidetourcontrols="hidebutton();"
    showtourcontrols="showbutton();"
    keep="true" />
  <action name="hidebutton">set(layer[button].visible, false);</action>
  <action name="showbutton">if(tour_displaycontrols,set(layer[button].visible, true);,hidebutton(););</action>


<!-- ********** -->
<!-- capilla -->
<!-- id : button1 -->
<!-- ********** -->

  <layer name="button1"
         keep="true"
         url="%FIRSTXML%/graphics/button1/_capilla.jpg"
         align="topleft"
         x="1170"
         y="0"
         zorder="6"
         visible="false"
         onclick="button1OnClick"
         />



  <action name="button1OnClick">
          mainloadscene(pano86);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button1events"
    onTourStart="showbutton1();"
    hidetourcontrols="hidebutton1();"
    showtourcontrols="showbutton1();"
    keep="true" />
  <action name="hidebutton1">set(layer[button1].visible, false);</action>
  <action name="showbutton1">if(tour_displaycontrols,set(layer[button1].visible, true);,hidebutton1(););</action>


<!-- ********** -->
<!-- aulas -->
<!-- id : button2 -->
<!-- ********** -->

  <layer name="button2"
         keep="true"
         url="%FIRSTXML%/graphics/button2/_aula.jpg"
         align="topleft"
         x="970"
         y="0"
         zorder="7"
         visible="false"
         onclick="button2OnClick"
         />



  <action name="button2OnClick">
          mainloadscene(pano115);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button2events"
    onTourStart="showbutton2();"
    hidetourcontrols="hidebutton2();"
    showtourcontrols="showbutton2();"
    keep="true" />
  <action name="hidebutton2">set(layer[button2].visible, false);</action>
  <action name="showbutton2">if(tour_displaycontrols,set(layer[button2].visible, true);,hidebutton2(););</action>


<!-- ********** -->
<!-- terapias -->
<!-- id : button3 -->
<!-- ********** -->

  <layer name="button3"
         keep="true"
         url="%FIRSTXML%/graphics/button3/_terapia.jpg"
         align="topleft"
         x="770"
         y="0"
         zorder="8"
         visible="false"
         onclick="button3OnClick"
         />



  <action name="button3OnClick">
if(layer[button28].visible,hidebutton28();,showbutton28(););

if(layer[button29].visible,hidebutton29();,showbutton29(););

if(layer[button30].visible,hidebutton30();,showbutton30(););

if(layer[button31].visible,hidebutton31();,showbutton31(););

if(layer[button32].visible,hidebutton32();,showbutton32(););

if(layer[button33].visible,hidebutton33();,showbutton33(););

if(layer[button34].visible,hidebutton34();,showbutton34(););

if(layer[button35].visible,hidebutton35();,showbutton35(););

if(layer[button36].visible,hidebutton36();,showbutton36(););

if(layer[button37].visible,hidebutton37();,showbutton37(););

if(layer[button38].visible,hidebutton38();,showbutton38(););

if(layer[button39].visible,hidebutton39();,showbutton39(););

if(layer[button40].visible,hidebutton40();,showbutton40(););

if(layer[button41].visible,hidebutton41();,showbutton41(););

if(layer[button42].visible,hidebutton42();,showbutton42(););
hidebutton16();
hidebutton17();
hidebutton18();
hidebutton19();
hidebutton20();
hidebutton21();
hidebutton22();
hidebutton23();
hidebutton24();
hidebutton25();
hidebutton26();
hidebutton27();
hidebutton8();
hidebutton9();
hidebutton10();
hidebutton11();
hidebutton12();
hidebutton13();
hidebutton14();
hidebutton15();


  </action>

  <events name="button3events"
    onTourStart="showbutton3();"
    hidetourcontrols="hidebutton3();"
    showtourcontrols="showbutton3();"
    keep="true" />
  <action name="hidebutton3">set(layer[button3].visible, false);</action>
  <action name="showbutton3">if(tour_displaycontrols,set(layer[button3].visible, true);,hidebutton3(););</action>


<!-- ********** -->
<!-- valoracion -->
<!-- id : button4 -->
<!-- ********** -->

  <layer name="button4"
         keep="true"
         url="%FIRSTXML%/graphics/button4/_valoracion.jpg"
         align="topleft"
         x="570"
         y="0"
         zorder="9"
         visible="false"
         onclick="button4OnClick"
         />



  <action name="button4OnClick">
if(layer[button16].visible,hidebutton16();,showbutton16(););

if(layer[button17].visible,hidebutton17();,showbutton17(););

if(layer[button18].visible,hidebutton18();,showbutton18(););

if(layer[button19].visible,hidebutton19();,showbutton19(););

if(layer[button20].visible,hidebutton20();,showbutton20(););

if(layer[button21].visible,hidebutton21();,showbutton21(););

if(layer[button22].visible,hidebutton22();,showbutton22(););

if(layer[button23].visible,hidebutton23();,showbutton23(););

if(layer[button24].visible,hidebutton24();,showbutton24(););

if(layer[button25].visible,hidebutton25();,showbutton25(););

if(layer[button26].visible,hidebutton26();,showbutton26(););

if(layer[button27].visible,hidebutton27();,showbutton27(););
hidebutton42();
hidebutton41();
hidebutton40();
hidebutton39();
hidebutton38();
hidebutton37();
hidebutton36();
hidebutton35();
hidebutton34();
hidebutton33();
hidebutton32();
hidebutton31();
hidebutton30();
hidebutton29();
hidebutton28();
hidebutton15();
hidebutton14();
hidebutton13();
hidebutton12();
hidebutton11();
hidebutton10();
hidebutton9();
hidebutton8();


  </action>

  <events name="button4events"
    onTourStart="showbutton4();"
    hidetourcontrols="hidebutton4();"
    showtourcontrols="showbutton4();"
    keep="true" />
  <action name="hidebutton4">set(layer[button4].visible, false);</action>
  <action name="showbutton4">if(tour_displaycontrols,set(layer[button4].visible, true);,hidebutton4(););</action>


<!-- ********** -->
<!-- recepciones -->
<!-- id : button5 -->
<!-- ********** -->

  <layer name="button5"
         keep="true"
         url="%FIRSTXML%/graphics/button5/_recepcion.jpg"
         align="topleft"
         x="370"
         y="0"
         zorder="10"
         visible="false"
         onclick="button5OnClick"
         />



  <action name="button5OnClick">
if(layer[button12].visible,hidebutton12();,showbutton12(););

if(layer[button13].visible,hidebutton13();,showbutton13(););

if(layer[button14].visible,hidebutton14();,showbutton14(););

if(layer[button15].visible,hidebutton15();,showbutton15(););
hidebutton42();
hidebutton41();
hidebutton40();
hidebutton39();
hidebutton38();
hidebutton37();
hidebutton36();
hidebutton35();
hidebutton34();
hidebutton33();
hidebutton32();
hidebutton31();
hidebutton30();
hidebutton29();
hidebutton28();
hidebutton27();
hidebutton26();
hidebutton25();
hidebutton24();
hidebutton23();
hidebutton22();
hidebutton21();
hidebutton20();
hidebutton19();
hidebutton18();
hidebutton17();
hidebutton16();
hidebutton11();
hidebutton10();
hidebutton9();
hidebutton8();


  </action>

  <events name="button5events"
    onTourStart="showbutton5();"
    hidetourcontrols="hidebutton5();"
    showtourcontrols="showbutton5();"
    keep="true" />
  <action name="hidebutton5">set(layer[button5].visible, false);</action>
  <action name="showbutton5">if(tour_displaycontrols,set(layer[button5].visible, true);,hidebutton5(););</action>


<!-- ********** -->
<!-- exterior -->
<!-- id : button6 -->
<!-- ********** -->

  <layer name="button6"
         keep="true"
         url="%FIRSTXML%/graphics/button6/_exterior.jpg"
         align="topleft"
         x="170"
         y="0"
         zorder="11"
         visible="false"
         onclick="button6OnClick"
         />



  <action name="button6OnClick">
if(layer[button8].visible,hidebutton8();,showbutton8(););

if(layer[button9].visible,hidebutton9();,showbutton9(););

if(layer[button10].visible,hidebutton10();,showbutton10(););

if(layer[button11].visible,hidebutton11();,showbutton11(););
hidebutton42();
hidebutton41();
hidebutton40();
hidebutton39();
hidebutton38();
hidebutton37();
hidebutton36();
hidebutton35();
hidebutton34();
hidebutton33();
hidebutton32();
hidebutton31();
hidebutton30();
hidebutton29();
hidebutton28();
hidebutton27();
hidebutton26();
hidebutton25();
hidebutton24();
hidebutton23();
hidebutton22();
hidebutton21();
hidebutton20();
hidebutton19();
hidebutton18();
hidebutton17();
hidebutton16();
hidebutton15();
hidebutton14();
hidebutton13();
hidebutton12();


  </action>

  <events name="button6events"
    onTourStart="showbutton6();"
    hidetourcontrols="hidebutton6();"
    showtourcontrols="showbutton6();"
    keep="true" />
  <action name="hidebutton6">set(layer[button6].visible, false);</action>
  <action name="showbutton6">if(tour_displaycontrols,set(layer[button6].visible, true);,hidebutton6(););</action>


<!-- ********** -->
<!-- inicio -->
<!-- id : button7 -->
<!-- ********** -->

  <layer name="button7"
         keep="true"
         url="%FIRSTXML%/graphics/button7/_inicio.jpg"
         align="topleft"
         x="0"
         y="0"
         zorder="12"
         visible="false"
         onclick="button7OnClick"
         />



  <action name="button7OnClick">
          mainloadscene(pano20);lookat(-60.750000, -1.350000, 108.900000);
showbutton();


  </action>

  <events name="button7events"
    onTourStart="showbutton7();"
    hidetourcontrols="hidebutton7();"
    showtourcontrols="showbutton7();"
    keep="true" />
  <action name="hidebutton7">set(layer[button7].visible, false);</action>
  <action name="showbutton7">if(tour_displaycontrols,set(layer[button7].visible, true);,hidebutton7(););</action>


<!-- ********** -->
<!-- Logo -->
<!-- id : picture -->
<!-- ********** -->

  <layer name="picture"
         keep="true"
         url="%FIRSTXML%/graphics/picture/color_v.png" 
         align="bottomright"
         x="10"
         y="10"
         zorder="13"

         handcursor="false"
         enabled="false"

         visible="false"
         height="200"
         width="200"
         />

  <events name="pictureevents" 
    onTourStart="showpicture(false);"
    hidetourcontrols="hidepicture();" 
    showtourcontrols="showpicture(false);" 
    keep="true" />

  <action name="hidepicture">set(layer[picture].visible, false);</action>
  <action name="showpicture">if(%1 == true,set(layer[picture].visible, true);,if(tour_displaycontrols,set(layer[picture].visible, true);,hidepicture();););</action>

<!-- ********** -->
<!-- explanada -->
<!-- id : button8 -->
<!-- ********** -->

  <layer name="button8"
         keep="true"
         url="%FIRSTXML%/graphics/button8/_explanada.png"
         align="topleft"
         x="170"
         y="60"
         zorder="14"
         visible="false"
         onclick="button8OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1,0.5,easeOutQuad);tween(alpha,2,0.5,easeOutQuad);"
         />



  <action name="button8OnClick">
          mainloadscene(pano20);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button8events"
    onTourStart="showbutton8();"
    hidetourcontrols="hidebutton8();"
    showtourcontrols="showbutton8();"
    keep="true" />
  <action name="hidebutton8">set(layer[button8].visible, false);</action>
  <action name="showbutton8">if(tour_displaycontrols,set(layer[button8].visible, true);,hidebutton8(););</action>


<!-- ********** -->
<!-- estacionamiento -->
<!-- id : button9 -->
<!-- ********** -->

  <layer name="button9"
         keep="true"
         url="%FIRSTXML%/graphics/button9/_estacionamiento.png"
         align="topleft"
         x="170"
         y="100"
         zorder="15"
         visible="false"
         onclick="button9OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1,0.5,easeOutQuad);tween(alpha,2,0.5,easeOutQuad);"
         />



  <action name="button9OnClick">
          mainloadscene(pano23);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button9events"
    onTourStart="showbutton9();"
    hidetourcontrols="hidebutton9();"
    showtourcontrols="showbutton9();"
    keep="true" />
  <action name="hidebutton9">set(layer[button9].visible, false);</action>
  <action name="showbutton9">if(tour_displaycontrols,set(layer[button9].visible, true);,hidebutton9(););</action>


<!-- ********** -->
<!-- zona de juegos  -->
<!-- id : button10 -->
<!-- ********** -->

  <layer name="button10"
         keep="true"
         url="%FIRSTXML%/graphics/button10/_juegos.png"
         align="topleft"
         x="170"
         y="140"
         zorder="16"
         visible="false"
         onclick="button10OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button10OnClick">
          mainloadscene(pano267);lookat(-155.250000, 3.150000, 90.000000);
showbutton();


  </action>

  <events name="button10events"
    onTourStart="showbutton10();"
    hidetourcontrols="hidebutton10();"
    showtourcontrols="showbutton10();"
    keep="true" />
  <action name="hidebutton10">set(layer[button10].visible, false);</action>
  <action name="showbutton10">if(tour_displaycontrols,set(layer[button10].visible, true);,hidebutton10(););</action>


<!-- ********** -->
<!-- cancha de usos multiples -->
<!-- id : button11 -->
<!-- ********** -->

  <layer name="button11"
         keep="true"
         url="%FIRSTXML%/graphics/button11/_cancha.png"
         align="topleft"
         x="170"
         y="180"
         zorder="17"
         visible="false"
         onclick="button11OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1,0.5,easeOutQuad);tween(alpha,2,0.5,easeOutQuad);"
         />



  <action name="button11OnClick">
          mainloadscene(pano26);lookat(49.500000, -7.200000, 90.000000);
showbutton();


  </action>

  <events name="button11events"
    onTourStart="showbutton11();"
    hidetourcontrols="hidebutton11();"
    showtourcontrols="showbutton11();"
    keep="true" />
  <action name="hidebutton11">set(layer[button11].visible, false);</action>
  <action name="showbutton11">if(tour_displaycontrols,set(layer[button11].visible, true);,hidebutton11(););</action>


<!-- ********** -->
<!-- recepcion de tren -->
<!-- id : button12 -->
<!-- ********** -->

  <layer name="button12"
         keep="true"
         url="%FIRSTXML%/graphics/button12/recepcion_tren.png"
         align="topleft"
         x="370"
         y="60"
         zorder="18"
         visible="false"
         onclick="button12OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button12OnClick">
          mainloadscene(pano78);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button12events"
    onTourStart="showbutton12();"
    hidetourcontrols="hidebutton12();"
    showtourcontrols="showbutton12();"
    keep="true" />
  <action name="hidebutton12">set(layer[button12].visible, false);</action>
  <action name="showbutton12">if(tour_displaycontrols,set(layer[button12].visible, true);,hidebutton12(););</action>


<!-- ********** -->
<!-- recepcion de gobierno -->
<!-- id : button13 -->
<!-- ********** -->

  <layer name="button13"
         keep="true"
         url="%FIRSTXML%/graphics/button13/recepcion_gobierno.png"
         align="topleft"
         x="370"
         y="100"
         zorder="19"
         visible="false"
         onclick="button13OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button13OnClick">
          mainloadscene(pano88);lookat(0.000000, 0.000000, 90.000000);
showbutton();


  </action>

  <events name="button13events"
    onTourStart="showbutton13();"
    hidetourcontrols="hidebutton13();"
    showtourcontrols="showbutton13();"
    keep="true" />
  <action name="hidebutton13">set(layer[button13].visible, false);</action>
  <action name="showbutton13">if(tour_displaycontrols,set(layer[button13].visible, true);,hidebutton13(););</action>


<!-- ********** -->
<!-- recepcion de desierto dia -->
<!-- id : button14 -->
<!-- ********** -->

  <layer name="button14"
         keep="true"
         url="%FIRSTXML%/graphics/button14/recepcion_dia.png"
         align="topleft"
         x="370"
         y="140"
         zorder="20"
         visible="false"
         onclick="button14OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button14OnClick">
          mainloadscene(pano121);lookat(-3.600000, -0.900000, 90.000000);
showbutton();


  </action>

  <events name="button14events"
    onTourStart="showbutton14();"
    hidetourcontrols="hidebutton14();"
    showtourcontrols="showbutton14();"
    keep="true" />
  <action name="hidebutton14">set(layer[button14].visible, false);</action>
  <action name="showbutton14">if(tour_displaycontrols,set(layer[button14].visible, true);,hidebutton14(););</action>


<!-- ********** -->
<!-- recepcion desierto noche -->
<!-- id : button15 -->
<!-- ********** -->

  <layer name="button15"
         keep="true"
         url="%FIRSTXML%/graphics/button15/recepcion_noche.png"
         align="topleft"
         x="370"
         y="180"
         zorder="21"
         visible="false"
         onclick="button15OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button15OnClick">
          mainloadscene(pano197);lookat(-102.600000, -6.750000, 90.000000);
showbutton();


  </action>

  <events name="button15events"
    onTourStart="showbutton15();"
    hidetourcontrols="hidebutton15();"
    showtourcontrols="showbutton15();"
    keep="true" />
  <action name="hidebutton15">set(layer[button15].visible, false);</action>
  <action name="showbutton15">if(tour_displaycontrols,set(layer[button15].visible, true);,hidebutton15(););</action>


<!-- ********** -->
<!-- VDESIERTO DIA -->
<!-- id : button16 -->
<!-- ********** -->

  <layer name="button16"
         keep="true"
         url="%FIRSTXML%/graphics/button16/recepcion_dia.png"
         align="topleft"
         x="570"
         y="60"
         zorder="22"
         visible="false"
         onclick="button16OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button16OnClick">
          mainloadscene(pano121);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button16events"
    onTourStart="showbutton16();"
    hidetourcontrols="hidebutton16();"
    showtourcontrols="showbutton16();"
    keep="true" />
  <action name="hidebutton16">set(layer[button16].visible, false);</action>
  <action name="showbutton16">if(tour_displaycontrols,set(layer[button16].visible, true);,hidebutton16(););</action>


<!-- ********** -->
<!-- cuarto de niños -->
<!-- id : button17 -->
<!-- ********** -->

  <layer name="button17"
         keep="true"
         url="%FIRSTXML%/graphics/button17/_cuarto.png"
         align="topleft"
         x="570"
         y="100"
         zorder="23"
         visible="false"
         onclick="button17OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button17OnClick">
          mainloadscene(pano126);lookat(-31.950000, 0.000000, 90.000000);
showbutton();


  </action>

  <events name="button17events"
    onTourStart="showbutton17();"
    hidetourcontrols="hidebutton17();"
    showtourcontrols="showbutton17();"
    keep="true" />
  <action name="hidebutton17">set(layer[button17].visible, false);</action>
  <action name="showbutton17">if(tour_displaycontrols,set(layer[button17].visible, true);,hidebutton17(););</action>


<!-- ********** -->
<!-- voluntariado -->
<!-- id : button18 -->
<!-- ********** -->

  <layer name="button18"
         keep="true"
         url="%FIRSTXML%/graphics/button18/_voluntariado.png"
         align="topleft"
         x="570"
         y="140"
         zorder="24"
         visible="false"
         onclick="button18OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button18OnClick">
          mainloadscene(pano165);lookat(40.050000, 0.000000, 90.000000);
showbutton();


  </action>

  <events name="button18events"
    onTourStart="showbutton18();"
    hidetourcontrols="hidebutton18();"
    showtourcontrols="showbutton18();"
    keep="true" />
  <action name="hidebutton18">set(layer[button18].visible, false);</action>
  <action name="showbutton18">if(tour_displaycontrols,set(layer[button18].visible, true);,hidebutton18(););</action>


<!-- ********** -->
<!-- psicologia -->
<!-- id : button19 -->
<!-- ********** -->

  <layer name="button19"
         keep="true"
         url="%FIRSTXML%/graphics/button19/_psicologia.png"
         align="topleft"
         x="570"
         y="180"
         zorder="25"
         visible="false"
         onclick="button19OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button19OnClick">
          mainloadscene(pano125);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button19events"
    onTourStart="showbutton19();"
    hidetourcontrols="hidebutton19();"
    showtourcontrols="showbutton19();"
    keep="true" />
  <action name="hidebutton19">set(layer[button19].visible, false);</action>
  <action name="showbutton19">if(tour_displaycontrols,set(layer[button19].visible, true);,hidebutton19(););</action>


<!-- ********** -->
<!-- clinica -->
<!-- id : button20 -->
<!-- ********** -->

  <layer name="button20"
         keep="true"
         url="%FIRSTXML%/graphics/button20/_clinica.png"
         align="topleft"
         x="570"
         y="220"
         zorder="26"
         visible="false"
         onclick="button20OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button20OnClick">
          mainloadscene(pano127);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button20events"
    onTourStart="showbutton20();"
    hidetourcontrols="hidebutton20();"
    showtourcontrols="showbutton20();"
    keep="true" />
  <action name="hidebutton20">set(layer[button20].visible, false);</action>
  <action name="showbutton20">if(tour_displaycontrols,set(layer[button20].visible, true);,hidebutton20(););</action>


<!-- ********** -->
<!-- enfermeria -->
<!-- id : button21 -->
<!-- ********** -->

  <layer name="button21"
         keep="true"
         url="%FIRSTXML%/graphics/button21/_enfermeria.png"
         align="topleft"
         x="570"
         y="260"
         zorder="27"
         visible="false"
         onclick="button21OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button21OnClick">
          mainloadscene(pano132);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button21events"
    onTourStart="showbutton21();"
    hidetourcontrols="hidebutton21();"
    showtourcontrols="showbutton21();"
    keep="true" />
  <action name="hidebutton21">set(layer[button21].visible, false);</action>
  <action name="showbutton21">if(tour_displaycontrols,set(layer[button21].visible, true);,hidebutton21(););</action>


<!-- ********** -->
<!-- urologia -->
<!-- id : button22 -->
<!-- ********** -->

  <layer name="button22"
         keep="true"
         url="%FIRSTXML%/graphics/button22/_urologia.png"
         align="topleft"
         x="570"
         y="300"
         zorder="28"
         visible="false"
         onclick="button22OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button22OnClick">
          mainloadscene(pano142);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button22events"
    onTourStart="showbutton22();"
    hidetourcontrols="hidebutton22();"
    showtourcontrols="showbutton22();"
    keep="true" />
  <action name="hidebutton22">set(layer[button22].visible, false);</action>
  <action name="showbutton22">if(tour_displaycontrols,set(layer[button22].visible, true);,hidebutton22(););</action>


<!-- ********** -->
<!-- nutricion -->
<!-- id : button23 -->
<!-- ********** -->

  <layer name="button23"
         keep="true"
         url="%FIRSTXML%/graphics/button23/_nutricion.png"
         align="topleft"
         x="570"
         y="340"
         zorder="29"
         visible="false"
         onclick="button23OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button23OnClick">
          mainloadscene(pano143);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button23events"
    onTourStart="showbutton23();"
    hidetourcontrols="hidebutton23();"
    showtourcontrols="showbutton23();"
    keep="true" />
  <action name="hidebutton23">set(layer[button23].visible, false);</action>
  <action name="showbutton23">if(tour_displaycontrols,set(layer[button23].visible, true);,hidebutton23(););</action>


<!-- ********** -->
<!-- realidad virtual -->
<!-- id : button24 -->
<!-- ********** -->

  <layer name="button24"
         keep="true"
         url="%FIRSTXML%/graphics/button24/_realidad.png"
         align="topleft"
         x="570"
         y="380"
         zorder="30"
         visible="false"
         onclick="button24OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button24OnClick">
          mainloadscene(pano140);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button24events"
    onTourStart="showbutton24();"
    hidetourcontrols="hidebutton24();"
    showtourcontrols="showbutton24();"
    keep="true" />
  <action name="hidebutton24">set(layer[button24].visible, false);</action>
  <action name="showbutton24">if(tour_displaycontrols,set(layer[button24].visible, true);,hidebutton24(););</action>


<!-- ********** -->
<!-- electrocardiograma -->
<!-- id : button25 -->
<!-- ********** -->

  <layer name="button25"
         keep="true"
         url="%FIRSTXML%/graphics/button25/_cardio.png"
         align="topleft"
         x="570"
         y="420"
         zorder="31"
         visible="false"
         onclick="button25OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button25OnClick">
          mainloadscene(pano130);lookat(84.600000, 9.900000, 90.000000);
showbutton();


  </action>

  <events name="button25events"
    onTourStart="showbutton25();"
    hidetourcontrols="hidebutton25();"
    showtourcontrols="showbutton25();"
    keep="true" />
  <action name="hidebutton25">set(layer[button25].visible, false);</action>
  <action name="showbutton25">if(tour_displaycontrols,set(layer[button25].visible, true);,hidebutton25(););</action>


<!-- ********** -->
<!-- electroneurodiagnostico -->
<!-- id : button26 -->
<!-- ********** -->

  <layer name="button26"
         keep="true"
         url="%FIRSTXML%/graphics/button26/_elecneuro.png"
         align="topleft"
         x="570"
         y="460"
         zorder="32"
         visible="false"
         onclick="button26OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button26OnClick">
          mainloadscene(pano131);lookat(-84.600000, 9.900000, 90.000000);
showbutton();


  </action>

  <events name="button26events"
    onTourStart="showbutton26();"
    hidetourcontrols="hidebutton26();"
    showtourcontrols="showbutton26();"
    keep="true" />
  <action name="hidebutton26">set(layer[button26].visible, false);</action>
  <action name="showbutton26">if(tour_displaycontrols,set(layer[button26].visible, true);,hidebutton26(););</action>


<!-- ********** -->
<!-- comunicacion humana -->
<!-- id : button27 -->
<!-- ********** -->

  <layer name="button27"
         keep="true"
         url="%FIRSTXML%/graphics/button27/_comunicacion.png"
         align="topleft"
         x="570"
         y="500"
         zorder="33"
         visible="false"
         onclick="button27OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button27OnClick">
          mainloadscene(pano129);lookat(-72.900000, -0.450000, 90.000000);
showbutton();


  </action>

  <events name="button27events"
    onTourStart="showbutton27();"
    hidetourcontrols="hidebutton27();"
    showtourcontrols="showbutton27();"
    keep="true" />
  <action name="hidebutton27">set(layer[button27].visible, false);</action>
  <action name="showbutton27">if(tour_displaycontrols,set(layer[button27].visible, true);,hidebutton27(););</action>


<!-- ********** -->
<!-- TDESIERTO NOCHE -->
<!-- id : button28 -->
<!-- ********** -->

  <layer name="button28"
         keep="true"
         url="%FIRSTXML%/graphics/button28/recepcion_noche.png"
         align="topleft"
         x="770"
         y="60"
         zorder="34"
         visible="false"
         onclick="button28OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button28OnClick">
          mainloadscene(pano197);lookat(-99.450000, -4.050000, 90.000000);
showbutton();


  </action>

  <events name="button28events"
    onTourStart="showbutton28();"
    hidetourcontrols="hidebutton28();"
    showtourcontrols="showbutton28();"
    keep="true" />
  <action name="hidebutton28">set(layer[button28].visible, false);</action>
  <action name="showbutton28">if(tour_displaycontrols,set(layer[button28].visible, true);,hidebutton28(););</action>


<!-- ********** -->
<!-- cems -->
<!-- id : button29 -->
<!-- ********** -->

  <layer name="button29"
         keep="true"
         url="%FIRSTXML%/graphics/button29/_cems.png"
         align="topleft"
         x="770"
         y="100"
         zorder="35"
         visible="false"
         onclick="button29OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button29OnClick">
          mainloadscene(pano529);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button29events"
    onTourStart="showbutton29();"
    hidetourcontrols="hidebutton29();"
    showtourcontrols="showbutton29();"
    keep="true" />
  <action name="hidebutton29">set(layer[button29].visible, false);</action>
  <action name="showbutton29">if(tour_displaycontrols,set(layer[button29].visible, true);,hidebutton29(););</action>


<!-- ********** -->
<!-- casita -->
<!-- id : button30 -->
<!-- ********** -->

  <layer name="button30"
         keep="true"
         url="%FIRSTXML%/graphics/button30/_casita.png"
         align="topleft"
         x="770"
         y="140"
         zorder="36"
         visible="false"
         onclick="button30OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button30OnClick">
          mainloadscene(pano205);lookat(126.000000, -2.250000, 90.000000);
showbutton();


  </action>

  <events name="button30events"
    onTourStart="showbutton30();"
    hidetourcontrols="hidebutton30();"
    showtourcontrols="showbutton30();"
    keep="true" />
  <action name="hidebutton30">set(layer[button30].visible, false);</action>
  <action name="showbutton30">if(tour_displaycontrols,set(layer[button30].visible, true);,hidebutton30(););</action>


<!-- ********** -->
<!-- mecanoterapia -->
<!-- id : button31 -->
<!-- ********** -->

  <layer name="button31"
         keep="true"
         url="%FIRSTXML%/graphics/button31/_mecanoterapia.png"
         align="topleft"
         x="770"
         y="180"
         zorder="37"
         visible="false"
         onclick="button31OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button31OnClick">
          mainloadscene(pano200);lookat(172.800000, 8.100000, 90.000000);
showbutton();


  </action>

  <events name="button31events"
    onTourStart="showbutton31();"
    hidetourcontrols="hidebutton31();"
    showtourcontrols="showbutton31();"
    keep="true" />
  <action name="hidebutton31">set(layer[button31].visible, false);</action>
  <action name="showbutton31">if(tour_displaycontrols,set(layer[button31].visible, true);,hidebutton31(););</action>


<!-- ********** -->
<!-- asesoria pedagogica -->
<!-- id : button32 -->
<!-- ********** -->

  <layer name="button32"
         keep="true"
         url="%FIRSTXML%/graphics/button32/_asesoria.png"
         align="topleft"
         x="770"
         y="220"
         zorder="38"
         visible="false"
         onclick="button32OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button32OnClick">
          mainloadscene(pano250);lookat(104.850000, 5.850000, 90.000000);
showbutton();


  </action>

  <events name="button32events"
    onTourStart="showbutton32();"
    hidetourcontrols="hidebutton32();"
    showtourcontrols="showbutton32();"
    keep="true" />
  <action name="hidebutton32">set(layer[button32].visible, false);</action>
  <action name="showbutton32">if(tour_displaycontrols,set(layer[button32].visible, true);,hidebutton32(););</action>


<!-- ********** -->
<!-- electroterapia -->
<!-- id : button33 -->
<!-- ********** -->

  <layer name="button33"
         keep="true"
         url="%FIRSTXML%/graphics/button33/_electro.png"
         align="topleft"
         x="770"
         y="260"
         zorder="39"
         visible="false"
         onclick="button33OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button33OnClick">
          mainloadscene(pano246);lookat(1.800000, -0.450000, 90.000000);
showbutton();


  </action>

  <events name="button33events"
    onTourStart="showbutton33();"
    hidetourcontrols="hidebutton33();"
    showtourcontrols="showbutton33();"
    keep="true" />
  <action name="hidebutton33">set(layer[button33].visible, false);</action>
  <action name="showbutton33">if(tour_displaycontrols,set(layer[button33].visible, true);,hidebutton33(););</action>


<!-- ********** -->
<!-- zona de marcha -->
<!-- id : button34 -->
<!-- ********** -->

  <layer name="button34"
         keep="true"
         url="%FIRSTXML%/graphics/button34/_zona.png"
         align="topleft"
         x="770"
         y="300"
         zorder="40"
         visible="false"
         onclick="button34OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button34OnClick">
          mainloadscene(pano208);lookat(84.150000, 2.250000, 90.000000);
showbutton();


  </action>

  <events name="button34events"
    onTourStart="showbutton34();"
    hidetourcontrols="hidebutton34();"
    showtourcontrols="showbutton34();"
    keep="true" />
  <action name="hidebutton34">set(layer[button34].visible, false);</action>
  <action name="showbutton34">if(tour_displaycontrols,set(layer[button34].visible, true);,hidebutton34(););</action>


<!-- ********** -->
<!-- rehabilitacion pulmonar -->
<!-- id : button35 -->
<!-- ********** -->

  <layer name="button35"
         keep="true"
         url="%FIRSTXML%/graphics/button35/_rehabilitacion.png"
         align="topleft"
         x="770"
         y="340"
         zorder="41"
         visible="false"
         onclick="button35OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button35OnClick">
          mainloadscene(pano207);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button35events"
    onTourStart="showbutton35();"
    hidetourcontrols="hidebutton35();"
    showtourcontrols="showbutton35();"
    keep="true" />
  <action name="hidebutton35">set(layer[button35].visible, false);</action>
  <action name="showbutton35">if(tour_displaycontrols,set(layer[button35].visible, true);,hidebutton35(););</action>


<!-- ********** -->
<!-- hidroterapia -->
<!-- id : button36 -->
<!-- ********** -->

  <layer name="button36"
         keep="true"
         url="%FIRSTXML%/graphics/button36/_hidro.png"
         align="topleft"
         x="770"
         y="380"
         zorder="42"
         visible="false"
         onclick="button36OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button36OnClick">
          mainloadscene(pano199);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button36events"
    onTourStart="showbutton36();"
    hidetourcontrols="hidebutton36();"
    showtourcontrols="showbutton36();"
    keep="true" />
  <action name="hidebutton36">set(layer[button36].visible, false);</action>
  <action name="showbutton36">if(tour_displaycontrols,set(layer[button36].visible, true);,hidebutton36(););</action>


<!-- ********** -->
<!-- estacion ferulas -->
<!-- id : button37 -->
<!-- ********** -->

  <layer name="button37"
         keep="true"
         url="%FIRSTXML%/graphics/button37/_ferulas.png"
         align="topleft"
         x="770"
         y="420"
         zorder="43"
         visible="false"
         onclick="button37OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button37OnClick">
          mainloadscene(pano543);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button37events"
    onTourStart="showbutton37();"
    hidetourcontrols="hidebutton37();"
    showtourcontrols="showbutton37();"
    keep="true" />
  <action name="hidebutton37">set(layer[button37].visible, false);</action>
  <action name="showbutton37">if(tour_displaycontrols,set(layer[button37].visible, true);,hidebutton37(););</action>


<!-- ********** -->
<!-- estacion costura -->
<!-- id : button38 -->
<!-- ********** -->

  <layer name="button38"
         keep="true"
         url="%FIRSTXML%/graphics/button38/_costura.png"
         align="topleft"
         x="770"
         y="460"
         zorder="44"
         visible="false"
         onclick="button38OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button38OnClick">
          mainloadscene(pano545);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button38events"
    onTourStart="showbutton38();"
    hidetourcontrols="hidebutton38();"
    showtourcontrols="showbutton38();"
    keep="true" />
  <action name="hidebutton38">set(layer[button38].visible, false);</action>
  <action name="showbutton38">if(tour_displaycontrols,set(layer[button38].visible, true);,hidebutton38(););</action>


<!-- ********** -->
<!-- terapia lenguaje -->
<!-- id : button39 -->
<!-- ********** -->

  <layer name="button39"
         keep="true"
         url="%FIRSTXML%/graphics/button39/_lenguaje.png"
         align="topleft"
         x="770"
         y="500"
         zorder="45"
         visible="false"
         onclick="button39OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button39OnClick">
          mainloadscene(pano745);lookat(105.300000, 3.600000, 90.000000);
showbutton();


  </action>

  <events name="button39events"
    onTourStart="showbutton39();"
    hidetourcontrols="hidebutton39();"
    showtourcontrols="showbutton39();"
    keep="true" />
  <action name="hidebutton39">set(layer[button39].visible, false);</action>
  <action name="showbutton39">if(tour_displaycontrols,set(layer[button39].visible, true);,hidebutton39(););</action>


<!-- ********** -->
<!-- aula digital -->
<!-- id : button40 -->
<!-- ********** -->

  <layer name="button40"
         keep="true"
         url="%FIRSTXML%/graphics/button40/_aula.png"
         align="topleft"
         x="770"
         y="540"
         zorder="46"
         visible="false"
         onclick="button40OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button40OnClick">
          mainloadscene(pano520);lookat(-90.450000, 2.700000, 90.000000);
showbutton();


  </action>

  <events name="button40events"
    onTourStart="showbutton40();"
    hidetourcontrols="hidebutton40();"
    showtourcontrols="showbutton40();"
    keep="true" />
  <action name="hidebutton40">set(layer[button40].visible, false);</action>
  <action name="showbutton40">if(tour_displaycontrols,set(layer[button40].visible, true);,hidebutton40(););</action>


<!-- ********** -->
<!-- centro de computo -->
<!-- id : button41 -->
<!-- ********** -->

  <layer name="button41"
         keep="true"
         url="%FIRSTXML%/graphics/button41/_centro.png"
         align="topleft"
         x="770"
         y="580"
         zorder="47"
         visible="false"
         onclick="button41OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button41OnClick">
          mainloadscene(pano257);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button41events"
    onTourStart="showbutton41();"
    hidetourcontrols="hidebutton41();"
    showtourcontrols="showbutton41();"
    keep="true" />
  <action name="hidebutton41">set(layer[button41].visible, false);</action>
  <action name="showbutton41">if(tour_displaycontrols,set(layer[button41].visible, true);,hidebutton41(););</action>


<!-- ********** -->
<!-- estimulacion temprana -->
<!-- id : button42 -->
<!-- ********** -->

  <layer name="button42"
         keep="true"
         url="%FIRSTXML%/graphics/button42/_estimulacion.png"
         align="topleft"
         x="770"
         y="620"
         zorder="48"
         visible="false"
         onclick="button42OnClick"
         alpha="0.7"
         onout="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,0.7,0.5,easeOutQuad);"
         onover="tween(scale, 1.0,0.5,easeOutQuad);tween(alpha,2.0,0.5,easeOutQuad);"
         />



  <action name="button42OnClick">
          mainloadscene(pano198);lookat(get(panoview.h), get(panoview.v), get(panoview.fov));
showbutton();


  </action>

  <events name="button42events"
    onTourStart="showbutton42();"
    hidetourcontrols="hidebutton42();"
    showtourcontrols="showbutton42();"
    keep="true" />
  <action name="hidebutton42">set(layer[button42].visible, false);</action>
  <action name="showbutton42">if(tour_displaycontrols,set(layer[button42].visible, true);,hidebutton42(););</action>


<!-- ********** -->
<!-- Call actions on tour events1 -->
<!-- id : eventsPlugin -->
<!-- ********** -->

  <events name="eventsPluginevents" keep="true" onTourStart="eventsPluginontourstarts()"/>
  <action name="eventsPluginontourstarts">

    hidebutton42();
hidebutton41();
hidebutton40();
hidebutton39();
hidebutton38();
hidebutton37();
hidebutton36();
hidebutton35();
hidebutton34();
hidebutton33();
hidebutton32();
hidebutton31();
hidebutton30();
hidebutton29();
hidebutton28();
hidebutton27();
hidebutton26();
hidebutton25();
hidebutton24();
hidebutton23();
hidebutton22();
hidebutton21();
hidebutton20();
hidebutton19();
hidebutton18();
hidebutton17();
hidebutton16();
hidebutton15();
hidebutton14();
hidebutton13();
hidebutton12();
hidebutton11();
hidebutton10();
hidebutton9();
hidebutton8();


  </action>

  <action name="displayVideo">
    set(displayedVideoObjectToCreate, true);
    set(displayedVideoObjectForDesktop, true);
    if(%10,
      set(displayedVideoObjectForDesktop, false);
    ,
      if (device.tablet, set(displayedVideoObjectForDesktop, false););
      if (device.mobile, set(displayedVideoObjectForDesktop, false););
    );
    
    if (layer[displayedStandardVideo],
      if(layer[displayedStandardVideo].donotdeleteme,
        set(layer[displayedStandardVideo].fromdesktop, get(displayedVideoObjectForDesktop));
        set(layer[displayedStandardVideo].currentCall, false);
        set(layer[displayedStandardVideo].visible, true);
        if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, true););
        set(layer[displayedStandardVideo].donotdeleteme, false);
        set(layer[displayedStandardVideo].pausebgsound, %11);
        ifnot(layer[displayedStandardVideo].pausedonstart,
          if(layer[displayedStandardVideo].pausebgsound,
            pauseTourSoundsActions(true,true,false,true,true);
          );
        );
        if (%1 == layer[displayedStandardVideo].videourl,
          layer[displayedStandardVideo].stop();
          ifnot(layer[displayedStandardVideo].fromdesktop,
            removelayer(displayedStandardVideoOverlayButton);
            removelayer(displayedStandardVideoOverlay);
          );resumeautorotation(forcehotspot);

          delete(tour_current_played_video);
          set(tour_current_played_video_state, 0);
          if(layer[displayedStandardVideo].pausebgsound,
            resumeTourSoundsActions(true,true,true,true,true);
          );
          if(layer[displayedStandardVideo].overlay,removelayer(displayedStandardVideoOverlayBkg););
          removelayer(displayedStandardVideo);
        ,
          
          set(tour_current_played_video, %1);
          if(tour_current_played_sound,
            set(tour_current_played_video_state, 2);
          ,
            set(tour_current_played_video_state, 1);
          );
          set(layer[displayedStandardVideo].onloaded, displayVideoWhenLoaded(%1,%10););
          set(layer[displayedStandardVideo].autoresume, true);
          if(device.html5,
            set(layer[displayedStandardVideo].url, %FIRSTXML%/graphics/videoplayer.js);
          ,
            set(layer[displayedStandardVideo].url, %SWFPATH%/graphics/videoplayer.swf);
          );
        );
      ,
        events.dispatch(onremovedisplayedobject);
        if (%1 != layer[displayedStandardVideo].videourl,
          delayedcall(0.2,displayVideo(%1, %2, %3, %4, %5, %6, %7, %8, %9, %10, %11, %12, %13, %14););
        );
      );
    ,
      if(%12,
        addlayer(displayedStandardVideoOverlayBkg);
        set(layer[displayedStandardVideoOverlayBkg].keep, false);
        set(layer[displayedStandardVideoOverlayBkg].visible , false);
        set(layer[displayedStandardVideoOverlayBkg].onclick, displayedVideoObjectStartStopAction(););
        set(layer[displayedStandardVideoOverlayBkg].zorder , 97);
        set(layer[displayedStandardVideoOverlayBkg].type, container);
        set(layer[displayedStandardVideoOverlayBkg].width   , 100%);
        set(layer[displayedStandardVideoOverlayBkg].height  , 100%);
        set(layer[displayedStandardVideoOverlayBkg].bgcolor, "0x%13");
        set(layer[displayedStandardVideoOverlayBkg].bgalpha, %14);
        set(layer[displayedStandardVideoOverlayBkg].bgcapture, true);
      );
      addlayer(displayedStandardVideo);
      set(layer[displayedStandardVideo].keep, false);
      set(layer[displayedStandardVideo].visible , false);
      set(layer[displayedStandardVideo].onclick, displayedVideoObjectStartStopAction(););
      set(layer[displayedStandardVideo].zorder , 98);
      set(layer[displayedStandardVideo].align   , %2);
      set(layer[displayedStandardVideo].x       , %3);
      set(layer[displayedStandardVideo].y       , %4);
      set(layer[displayedStandardVideo].width   , %5);
      set(layer[displayedStandardVideo].height  , %6);
      set(layer[displayedStandardVideo].overlay , %12);
      set(layer[displayedStandardVideo].iphoneworkarounds, false);
      
      if (%7,
        set(layer[displayedStandardVideo].loop, true);
       ,
        set(layer[displayedStandardVideo].onvideocomplete, displayedVideoObjectStartStopAction(););
      );
      if (displayedVideoObjectForDesktop,
        set(layer[displayedStandardVideo].pausedonstart, false);
        set(layer[displayedStandardVideo].onvideoready, set(layer[displayedStandardVideo].visible, true);if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, true);););
      ,
        
        set(layer[displayedStandardVideo].pausedonstart, true);
        set(layer[displayedStandardVideo].onvideoready, set(layer[displayedStandardVideo].started, false);set(layer[displayedStandardVideo].visible, true);if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, true););delayedcall(0.1,applyDisplayedStandardVideoOverlay(%1, %2, %3, %4, %5, %6, %7, %8, %9, %10, %11)););
      );
      
      set(layer[displayedStandardVideo].currentCall, true);
      set(layer[displayedStandardVideo].donotdeleteme, true);
      events.dispatch(onremovedisplayedobject);
      delayedcall(0.2,displayVideo(%1, %2, %3, %4, %5, %6, %7, %8, %9, %10, %11, %12, %13, %14););
      if (%8,pauseautorotation(forcehotspot);
);
    );
  </action>
  <action name="applyDisplayedStandardVideoOverlay">
      addlayer(displayedStandardVideoOverlay);
      
      set(layer[displayedStandardVideoOverlay].type, container);
      set(layer[displayedStandardVideoOverlay].visible, true);
      set(layer[displayedStandardVideoOverlay].zorder, 99);
      set(layer[displayedStandardVideoOverlay].keep, false);
      set(layer[displayedStandardVideoOverlay].align, %2);
      set(layer[displayedStandardVideoOverlay].x, %3);
      set(layer[displayedStandardVideoOverlay].y, %4);
      set(layer[displayedStandardVideoOverlay].width, get(layer[displayedStandardVideo].pixelwidth));
      set(layer[displayedStandardVideoOverlay].height, get(layer[displayedStandardVideo].pixelheight));
      
      addlayer(displayedStandardVideoOverlayButton);
      set(layer[displayedStandardVideoOverlayButton].visible, true);
      set(layer[displayedStandardVideoOverlayButton].keep, false);
      set(layer[displayedStandardVideoOverlayButton].parent, displayedStandardVideoOverlay);
      set(layer[displayedStandardVideoOverlayButton].align, center);
      set(layer[displayedStandardVideoOverlayButton].url, %FIRSTXML%/graphics/videoplayer_play_button.png);
      set(layer[displayedStandardVideoOverlayButton].width, 50);
      set(layer[displayedStandardVideoOverlayButton].height, 50);
      set(layer[displayedStandardVideoOverlayButton].alpha, 0.5);
      set(layer[displayedStandardVideoOverlayButton].enabled, false);
      set(layer[displayedStandardVideoOverlayButton].capture, false);
      set(layer[displayedStandardVideoOverlayButton].onclick, displayedVideoObjectStartStopAction(););
  </action>
  <action name="displayVideoWhenLoaded">
    layer[displayedStandardVideo].playVideo(%1,,%2);
    ifnot(tour_soundson,
      pauseVideoActionsSounds();
    );
  </action>
  <action name="displayedVideoObjectStartStopAction">
    if(layer[displayedStandardVideo].fromdesktop,
      layer[displayedStandardVideo].stop();
      set(layer[displayedStandardVideo].visible, false);
      if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, false););resumeautorotation(forcehotspot);

      delete(tour_current_played_video);
      set(tour_current_played_video, null);
      set(tour_current_played_video_state, 0);
      if(layer[displayedStandardVideo].pausebgsound,
        resumeTourSoundsActions(true,true,true,true,true);
      );
      if(layer[displayedStandardVideo].overlay,removelayer(displayedStandardVideoOverlayBkg););
      removelayer(displayedStandardVideo);
    ,
      if (layer[displayedStandardVideo].started == false,
        set(layer[displayedStandardVideo].visible , true);
        if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, true););
        set(layer[displayedStandardVideoOverlay].visible , false);
        removelayer(displayedStandardVideoOverlayButton);
        removelayer(displayedStandardVideoOverlay);
        set(layer[displayedStandardVideo].started, true);
        if(layer[displayedStandardVideo].pausedonstart,
          if(layer[displayedStandardVideo].pausebgsound,
            pauseTourSoundsActions(true,true,false,true,true);
          );
        );
        layer[displayedStandardVideo].play();
        ifnot(tour_soundson,
          pauseVideoActionsSounds();
        );
      ,
        layer[displayedStandardVideo].stop();
        set(layer[displayedStandardVideo].visible , false);
        if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, false););resumeautorotation(forcehotspot);

        delete(tour_current_played_video);
        set(tour_current_played_video, null);
        set(tour_current_played_video_state, 0);
        if(layer[displayedStandardVideo].pausebgsound,
          resumeTourSoundsActions(true,true,true,true,true);
        );
        if(layer[displayedStandardVideo].overlay,removelayer(displayedStandardVideoOverlayBkg););
        removelayer(displayedStandardVideo);
      );
    );
  </action>
  <events name="displayedVideoObjectEvents" keep="true" onremovedisplayedobject="displayedVideoObjectOnRemoveDisplayedObject"/>
  <action name="displayedVideoObjectOnRemoveDisplayedObject">
    ifnot(layer[displayedStandardVideo].currentCall,
      if(layer[displayedStandardVideo].visible,
        layer[displayedStandardVideo].stop();
        ifnot(layer[displayedStandardVideo].fromdesktop,
          removelayer(displayedStandardVideoOverlayButton);
          removelayer(displayedStandardVideoOverlay);
        );
        set(layer[displayedStandardVideo].visible , false);
        if(layer[displayedStandardVideo].overlay,set(layer[displayedStandardVideoOverlayBkg].visible, false););resumeautorotation(forcehotspot);

        delete(tour_current_played_video);
        set(tour_current_played_video, null);
        set(tour_current_played_video_state, 0);
        if(layer[displayedStandardVideo].pausebgsound,
          resumeTourSoundsActions(true,true,true,true,true);
        );
        if(layer[displayedStandardVideo].overlay,removelayer(displayedStandardVideoOverlayBkg););
        removelayer(displayedStandardVideo);
      );
    );
  </action>

  <!-- Fullscreen Management -->
  <action name="exitFullScreen" devices="fullscreensupport">set(tour_fullscreen,false);set(fullscreen,false);</action>
  <action name="enterFullScreen" devices="fullscreensupport">set(tour_fullscreen,true);set(fullscreen,true);</action>
  <action name="switchFullScreen">if(tour_fullscreen,exitFullScreen();,enterFullScreen(););</action>

  
  <events name="krpanoExitFullscreenEvent"
    onexitfullscreen="if(tour_fullscreen,exitFullScreenChangeEvent(););"
    keep="true" />

  <action name="exitFullScreenChangeEvent" devices="fullscreensupport">set(tour_fullscreen,false);events.dispatch(onexitfullscreen);</action>

  <!-- Sounds Management -->
  <plugin name="soundinterface"
          preload="true"
          url="%SWFPATH%/graphics/soundinterface.swf"
          alturl="%FIRSTXML%/graphics/soundinterface.js"
          rootpath="%$videos_sounds_path%/sounds"
          backgroundsound=""
          backgroundsoundloops="0"
          bgsound="false"
          bgsoundpaused="false"
          bgsoundloopended="false"
          volumeinitialized="false"
          started="true"
          keep="true"/>
  <events name="soundmanagementevents"
          onnewpano="if(plugin[soundinterface].started,playbackgroundsound(););"
          onxmlcomplete="soundinterfaceonxmlcomplete();"
          keep="true"/>
  <action name="soundinterfaceonxmlcomplete">
    ifnot(plugin[soundinterface].volumeinitialized,
      div(plugin[soundinterface].volume, tour_soundsvolume, 100);
      set(plugin[soundinterface].volumeinitialized,true);
    );
  </action>
  <action name="playsound3Dwhenpossible">
    set(really_play_sound, true);
    if (tour_current_played_sound,
      if (%1 == tour_current_played_sound,
        delete(tour_current_played_sound);
        set(tour_current_played_sound_state, 0);
        delete(tour_current_played_sound_paused);
        stopsound(%1);
        set(really_play_sound, false);
        if(%4,
          delete(tour_current_played_sound_pausesound);
          resumeTourSoundsActions(true,true,true,true,true);
        );
      );
    );
    if (really_play_sound,
      if (tour_current_played_sound,
        stopsound(get(tour_current_played_sound));

        ifnot(%4,
          if(tour_current_played_sound_pausesound,
            delete(tour_current_played_sound_pausesound);
            resumeTourSoundsActions(true,true,true,true,true);
          );
        );
      );
      if(%4,
        set(tour_current_played_sound_pausesound, true);
        pauseTourSoundsActions(true,false,true,true,true);
      );
      set(tour_current_played_sound, %1);
      if(tour_current_played_video,
        set(tour_current_played_sound_state, 2);
      ,
        set(tour_current_played_sound_state, 1);
      );
      set(tour_current_played_sound_paused, false);
      if (%3,
        if (device.flash,
          div(volume, tour_soundsvolume, 100);
          if(%9 != null,
            playsound3D(%1,%2,%5,%6,%7,get(volume),%8,stopsound3Dwhenpossible(%1,%4));
          ,
            playsound3D(%1,%2,%5,%6,%7,get(volume),%8);
          );
        ,
          if(%9 != null,
            playsound(%1,%2,%8,stopsound3Dwhenpossible(%1,%4));
          ,
            playsound(%1,%2,%8);
          );
        );
      ,
        if(%6 != null,
          playsound(%1,%2,%5,stopsound3Dwhenpossible(%1,%4));
        ,
          playsound(%1,%2,%5);
        );
      );

      ifnot(tour_soundson,
        set(tour_current_played_sound_paused, true);
        pausesound(%1);
      );
    );
  </action>
  <action name="stopsound3Dwhenpossible">
    if (%1 == tour_current_played_sound,
      delete(tour_current_played_sound);
      set(tour_current_played_sound_state, 0);
      delete(tour_current_played_sound_paused);

      ifnot(device.safari,
        stopsound(%1);
      );
      if(%2,
        delete(tour_current_played_sound_pausesound);
        resumeTourSoundsActions(true,true,true,true,true);
      );
    );
  </action>
  <action name="playbackgroundsound">
  if(playsound,
    if (xml.scene,
      if (scene[get(xml.scene)].backgroundsound,
        if (plugin[soundinterface].backgroundsound != scene[get(xml.scene)].backgroundsound,
          copy(plugin[soundinterface].backgroundsound, scene[get(xml.scene)].backgroundsound);
          copy(plugin[soundinterface].backgroundsoundloops, scene[get(xml.scene)].backgroundsoundloops);
          if (tour_soundson,
            set(plugin[soundinterface].bgsound, true);
            set(plugin[soundinterface].bgsoundpaused, false);
            set(plugin[soundinterface].bgsoundloopended, false);
            if((scene[get(xml.scene)].video == true AND scene[get(xml.scene)].scenevideomute == true) OR scene[get(xml.scene)].video == false,
              if(plugin[soundinterface].backgroundsoundloops GT 0,
                playsound(bgsoundname, get(plugin[soundinterface].backgroundsound), get(plugin[soundinterface].backgroundsoundloops), stopbackgroundsoundoncomplete());
              ,
                playsound(bgsoundname, get(plugin[soundinterface].backgroundsound), get(plugin[soundinterface].backgroundsoundloops));
              );
            );
           ,
            set(plugin[soundinterface].bgsound, false);
          );
        ,
          if (tour_soundson,
            if((plugin[soundinterface].bgsoundpaused == true AND scene[get(xml.scene)].video == false) OR (scene[get(xml.scene)].video == true AND scene[get(xml.scene)].scenevideomute == true),
              resumesound(bgsoundname);
              set(plugin[soundinterface].bgsoundpaused, false);
            );
          ,
            set(plugin[soundinterface].bgsound, false);
          );
        );
      );
    );
  ,
    delayedcall(0.2, playbackgroundsound());
  );
  </action>
  <action name="stopbackgroundsoundoncomplete">
    if (plugin[soundinterface].backgroundsound,
    if (plugin[soundinterface].backgroundsoundloops GT 0,

      set(plugin[soundinterface].backgroundsoundloops, 0);
      set(plugin[soundinterface].bgsound, false);
      set(plugin[soundinterface].bgsoundpaused, false);
      set(plugin[soundinterface].bgsoundloopended, true);
    );
    );
  </action>
  <action name="resetbackgroundsoundifneeded">
    if (xml.scene,
      if (scene[get(xml.scene)].backgroundsound != scene[%1].backgroundsound,
        if(plugin[soundinterface].backgroundsound,
          stopsound(bgsoundname);
        );
        set(plugin[soundinterface].backgroundsound, "");
        set(plugin[soundinterface].backgroundsoundloops, 0);
        set(plugin[soundinterface].bgsound, false);
        set(plugin[soundinterface].bgsoundpaused, false);
        set(plugin[soundinterface].bgsoundloopended, false);
      );
    );
  </action>
  <action name="pausebackgroundsound">
    if(plugin[soundinterface].backgroundsound,
      if (plugin[soundinterface].bgsound,
        if(plugin[soundinterface].bgsoundpaused == false AND plugin[soundinterface].bgsoundloopended == false,
          pausesound(bgsoundname);
          set(plugin[soundinterface].bgsoundpaused, true);
        );
      );
    );
    pauseVideoSceneSound();
  </action>
  <action name="resumebackgroundsound">
    set(bgSoundOnResume, true);
    set(forceBgSoundOnResume, true);
    if(layer[displayedStandardVideo],
    if(layer[displayedStandardVideo].pausebgsound AND tour_current_played_video,
      set(bgSoundOnResume, false);
      set(forceBgSoundOnResume, false);
    ););
    if(layer[webvideodisplay_player],
    if(layer[webvideodisplay_player].pausebgsound AND tour_current_played_web_video,
      set(bgSoundOnResume, false);
      set(forceBgSoundOnResume, false);
    ););
    if(tour_current_played_sound_pausesound AND tour_current_played_sound,
      set(bgSoundOnResume, false);
    );
    ifnot(plugin[soundinterface].backgroundsound AND scene[get(xml.scene)].backgroundsound,
      set(bgSoundOnResume, false);
    );
    if(videospots_playing GT 0,
      set(bgSoundOnResume, false);
      set(forceBgSoundOnResume, false);
    );
    if(bgSoundOnResume,
      if (plugin[soundinterface].backgroundsound,
        if (tour_soundson,
          if (plugin[soundinterface].bgsound AND plugin[soundinterface].bgsoundloopended == false,
            if((plugin[soundinterface].bgsoundpaused == true AND scene[get(xml.scene)].video == false) OR (scene[get(xml.scene)].video == true AND scene[get(xml.scene)].scenevideomute == true),
              resumesound(bgsoundname);
              set(plugin[soundinterface].bgsoundpaused, false);
            ,

              if(device.mobile OR device.tablet OR device.safari,
                resumesound(bgsoundname);
                set(plugin[soundinterface].bgsoundpaused, false);
              );
            );
          ,
            set(plugin[soundinterface].bgsound, true);
            set(plugin[soundinterface].bgsoundpaused, false);
            set(plugin[soundinterface].bgsoundloopended, false);
            if(plugin[soundinterface].backgroundsoundloops GT 0,
              playsound(bgsoundname, get(plugin[soundinterface].backgroundsound), get(plugin[soundinterface].backgroundsoundloops), stopbackgroundsoundoncomplete());
            ,
              playsound(bgsoundname, get(plugin[soundinterface].backgroundsound), get(plugin[soundinterface].backgroundsoundloops));
            );
          );
        );
      );
      resumeVideoSceneSound();
    ,
      if(forceBgSoundOnResume,
        playbackgroundsound();
        resumeVideoSceneSound();
      );
    );
  </action>
  <action name="resumeVideoSceneSound">
    if(scene[get(xml.scene)].video == true AND scene[get(xml.scene)].scenevideomute == false,
      videointerface_start_sound();
    );
  </action>
  <action name="pauseVideoSceneSound">
    if(scene[get(xml.scene)].video == true AND scene[get(xml.scene)].scenevideomute == false,
      videointerface_stop_sound();
    );
  </action>
  <action name="preloadSounds">
  </action>

  <action name="play3DLocalSounds">
    if (xml.scene, if (scene[get(xml.scene)].haslocalsounds, playpanolocalsounds();););
  </action>
  <action name="stop3DLocalSounds">
    if (xml.scene, if (scene[get(xml.scene)].haslocalsounds, stoppanolocalsounds();););
  </action>
  <action name="resume3DLocalSounds">
    if (xml.scene, if (scene[get(xml.scene)].haslocalsounds, 
      set(kill3dSoundOnResume, true);
      if(layer[displayedStandardVideo],
      if(layer[displayedStandardVideo].pausebgsound,
      if(tour_current_played_video,
        set(kill3dSoundOnResume, false);
      );););
      if(layer[webvideodisplay_player],
      if(layer[webvideodisplay_player].pausebgsound,
      if(tour_current_played_web_video,
        set(kill3dSoundOnResume, false);
      );););
      if(tour_current_played_sound_pausesound,
      if(tour_current_played_sound,
        set(kill3dSoundOnResume, false);
      ););
      if(kill3dSoundOnResume,
        resumepanolocalsounds();
      );
    ););
  </action>
  <action name="pause3DLocalSounds">
    if (xml.scene, if (scene[get(xml.scene)].haslocalsounds, pausepanolocalsounds();););
  </action>
  <action name="set3DLocalSoundsVolume">
    if (xml.scene, if (scene[get(xml.scene)].haslocalsounds, setpanolocalsoundsvolume();););
  </action>
  <action name="playTourSounds">
    set(tour_soundson, true);events.dispatch(playtoursoundsevent);
    resumeTourSoundsActions(true,true,true,true,true);
  </action>
  <action name="stopTourSounds">
    set(tour_soundson, false);events.dispatch(stoptoursoundsevent);
    pauseTourSoundsActions(true,true,true,true,true);
  </action>
  <action name="setTourSoundsVolume">
    set(tour_soundsvolume, %1);events.dispatch(changetoursoundsevent);
    div(volume, tour_soundsvolume, 100);
    set(plugin[soundinterface].volume, get(volume));
    set3DLocalSoundsVolume();
  </action>
  <action name="playTourSoundsActions">
    if(%1,
      if(plugin[soundinterface],
        if(plugin[soundinterface].started,
        play3DLocalSounds();
        );
      );
    );
    if(%2,
      if(plugin[soundinterface],
        if(plugin[soundinterface].started,
          resumebackgroundsound();
        );
      );
    );
  </action>
  <action name="stopTourSoundsActions">
    if(%1,
      stop3DLocalSounds();
    );
    if(%2,
      stopSoundActionsSounds();
    );
    if(%3,
      stopVideoActionsSounds();
    );
    if(%4,
      pausebackgroundsound();
    );
  </action>
  <action name="resumeTourSoundsActions">
    if(%1,
      if(plugin[soundinterface],
        if(plugin[soundinterface].started,
        resume3DLocalSounds();
        );
      );
    );
    if(%2,
      resumeSoundActionsSounds();
    );
    if(%3,
      resumeVideoActionsSounds();
    );
    if(%4,
      if(%5,
        if(plugin[soundinterface],
          if(plugin[soundinterface].started,
            resumebackgroundsound();
          );
        );
      ,
        pausebackgroundsound();
      );
    );
  </action>
  <action name="pauseTourSoundsActions">
    if(%1,
      pause3DLocalSounds();
    );
    if(%2,
      pauseSoundActionsSounds();
    );
    if(%3,
      pauseVideoActionsSounds();
    );
    if(%4,
      if(%5,
        pausebackgroundsound();
      ,
        if(plugin[soundinterface],
          if(plugin[soundinterface].started,
            resumebackgroundsound();
          );
        );
      );
    );
  </action>
  <action name="stopSoundActionsSounds">
    if (tour_current_played_sound,
      delete(tour_current_played_sound_paused);
      stopsound(get(tour_current_played_sound));
      delete(tour_current_played_sound);
      set(tour_current_played_sound_state, 0);
    );
  </action>
  <action name="stopVideoActionsSounds">
    if(tour_current_played_video,
      if(layer[displayedStandardVideo],
        layer[displayedStandardVideo].stop();
        removelayer(displayedStandardVideo);
        if(layer[displayedStandardVideoOverlayButton], removelayer(displayedStandardVideoOverlayButton); );
        if(layer[displayedStandardVideoOverlay], removelayer(displayedStandardVideoOverlay); );
        delete(tour_current_played_video);
        set(tour_current_played_video_state, 0);
      );
    );
    if(tour_current_played_web_video,
      displayWebVideoObjectClose();
    );
  </action>
  <action name="resumeSoundActionsSounds">
    if (tour_current_played_sound,
      set(resumeSoundActionsVerification, true);
      if(tour_current_played_video,
        if(tour_current_played_sound_state LT tour_current_played_video_state,
          set(resumeSoundActionsVerification, false);
        );
      );
      if(resumeSoundActionsVerification,
        if (tour_soundson,
          if(tour_current_played_sound_paused,
            set(tour_current_played_sound_paused, false);
            resumesound(get(tour_current_played_sound));
          ,

            if(device.mobile OR device.tablet OR device.safari,
              set(tour_current_played_sound_paused, false);
              resumesound(get(tour_current_played_sound));
            );
          );
        );
      );
    );
  </action>
  <action name="resumeVideoActionsSounds">
    if(tour_current_played_video,
      set(resumeVideoActionsVerification, true);
      if(tour_current_played_sound,
        if(tour_current_played_video_state LT tour_current_played_sound_state,
          set(resumeVideoActionsVerification, false);
        );
      );
      if(resumeVideoActionsVerification,
        if (tour_soundson,
          if(device.flash OR (device.webgl AND !device.ios),
            div(volume, tour_soundsvolume, 100);
            set(layer[displayedStandardVideo].volume, get(volume));
          ,
            ifnot(device.ios,
              js(kpanotour.Sounds.startVideosSounds(get(volume)));
            ,
              if(tour_soundsvolume GT 0,
                set(layer[displayedStandardVideo].muted, false);
              ,
                set(layer[displayedStandardVideo].muted, true);
              );
            );
          );
        ,
          if(device.flash OR (device.webgl AND !device.ios),
            set(layer[displayedStandardVideo].volume, 0);
          ,
            ifnot(device.ios,
              js(kpanotour.Sounds.stopVideosSounds());
            ,
              set(layer[displayedStandardVideo].muted, true);
            );
          );
        );
      );
    );
  </action>
  <action name="pauseSoundActionsSounds">
    if (tour_current_played_sound,
      ifnot(tour_current_played_sound_paused,
        set(tour_current_played_sound_paused, true);
        pausesound(get(tour_current_played_sound));
      );
    );
  </action>
  <action name="pauseVideoActionsSounds">
    if(tour_current_played_video,
      if(device.flash OR (device.webgl AND !device.ios),
        set(layer[displayedStandardVideo].volume, 0);
      ,
        ifnot(device.ios,
          js(kpanotour.Sounds.stopVideosSounds());
        ,
          set(layer[displayedStandardVideo].muted, true);
        );
      );
    );
  </action>

</krpano>